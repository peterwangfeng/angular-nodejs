<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="shortcut icon" href="https://static.bootcss.com/www/assets/ico/favicon.png">
    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap.css">
    <script src="libs/jquery/dist/jquery.js"></script>
    <script src="libs/angular/angular.js"></script>
    <style>
        body {
            padding-top: 100px;
            background: url("img/bg6.jpg") no-repeat;
            background-size: cover;
        }

        pre {
            width: 300px;
            height: 200px;
            position: fixed;
            left: 0;
            top: 0;
        }

        span {
            font-size: 20px;
        }

        .form-group span:first-child {
            color: green;
        }

        .form-group span:last-child {
            color: red;
        }
    </style>
</head>
<body ng-app="myApp" ng-controller="ctrl" ng-cloak>
<div class="container">
    <form id="form1" class="form-horizontal" name="myForm">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">姓名</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="name" ng-model="user" ng-pattern="'[\u4E00-\u9FA5]{2,4}'">
                                <span style="color:red" ng-show="myForm.name.$dirty && myForm.name.$invalid ">&otimes;</span>
                                <span style="color:green" ng-show=" myForm.name.$dirty && myForm.name.$valid">&radic;</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">年龄</label>
                        <div class="col-sm-10">
                            <input type="text" name="age" class="form-control" ng-model="age" ng-pattern="'^[0-9]{2}'">
                            <span style="color:red" ng-show="myForm.age.$dirty && myForm.age.$invalid ">&otimes;</span>
                            <span style="color:green" ng-show=" myForm.age.$dirty && myForm.age.$valid">&radic;</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">性别</label>
                        <div class="col-sm-10">
                            <input type="text" name="sex" class="form-control" ng-model="sex" ng-pattern="'^[男|女]$'">
                            <span style="color:red" ng-show="myForm.sex.$dirty && myForm.sex.$invalid ">&otimes;</span>
                            <span style="color:green" ng-show=" myForm.sex.$dirty && myForm.sex.$valid">&radic;</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">电话号码</label>
                        <div class="col-sm-10">
                            <input type="text" name="phone" class="form-control" ng-model="phone" ng-pattern="'^1[3|4|5|7|8][0-9]{9}$'">
                            <span style="color:red" ng-show="myForm.phone.$dirty && myForm.phone.$invalid ">&otimes;</span>
                            <span style="color:green" ng-show=" myForm.phone.$dirty && myForm.phone.$valid">&radic;</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">家庭住址</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="address" ng-model="address" ng-pattern="'[\u4E00-\u9FA5]{10,20}'">
                            <span style="color:red" ng-show="myForm.address.$dirty && myForm.address.$invalid ">&otimes;</span>
                            <span style="color:green" ng-show=" myForm.address.$dirty && myForm.address.$valid">&radic;</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">备注</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="info" ng-model="info" ng-pattern="'[\u4E00-\u9FA5]{5,20}'">
                            <span style="color:red" ng-show="myForm.info.$dirty && myForm.info.$invalid ">&otimes;</span>
                            <span style="color:green" ng-show=" myForm.info.$dirty && myForm.info.$valid">&radic;</span>
                        </div>
                    </div>
                    <div class="form-group" >
                        <input type="submit" value="提交" class="btn col-sm-10 btn-primary form-control" ng-disabled="myForm.$invalid"style="width:55vw;margin-left:100px;">
                    </div>
                </form>
</div>
<script>
    $('form').submit(function (ev) {
        ev.preventDefault();
        var data = $(this).serialize();
        $.post('/add', data, function (res) {
            console.log(res);
            if(res.code === 'success') {
                location.href = '/admin.html';
            }
        });
    });
</script>
<script>
    var app = angular.module('myApp', []);
    app.controller('ctrl', ['$scope', function ($scope) {
    }]);
</script>
</body>
</html>